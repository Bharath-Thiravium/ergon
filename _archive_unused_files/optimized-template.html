<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ergon - Optimized Performance</title>
    
    <!-- Critical CSS - Inline for instant rendering -->
    <style>
        /* Critical CSS content from critical.css */
        :root{--primary:#1e40af;--bg-primary:#ffffff;--bg-secondary:#f8fafc;--text-primary:#0f172a;--text-secondary:#64748b;--border-color:#e2e8f0;--shadow-sm:0 1px 2px 0 rgba(0,0,0,0.05);--transition:all 0.2s ease-in-out;--space-2:0.5rem;--space-3:0.75rem;--space-4:1rem;--font-size-sm:0.75rem;--font-size-base:0.875rem;--border-radius:8px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg-secondary);color:var(--text-primary);line-height:1.6}.main-header{background:#000080;position:fixed;top:0;left:0;right:0;z-index:9999;width:100%}.header__top{display:flex;align-items:center;justify-content:space-between;padding:12px 24px}.header__brand{display:flex;align-items:center;gap:12px;color:#f1f5f9;font-weight:600;font-size:18px}.main-content{margin-top:110px!important;padding:24px!important;background:#f8fafc!important;min-height:calc(100vh - 110px)!important;width:100vw!important;max-width:100vw!important;overflow-x:hidden!important}.card{background:rgba(255,255,255,0.95);border:1px solid rgba(255,255,255,0.3);border-radius:var(--border-radius);box-shadow:var(--shadow-sm);overflow:hidden;transition:var(--transition)}.btn{display:inline-flex;align-items:center;justify-content:center;padding:var(--space-3) var(--space-4);border:1px solid transparent;border-radius:var(--border-radius);font-size:var(--font-size-sm);font-weight:500;text-decoration:none;cursor:pointer;transition:var(--transition);gap:var(--space-2)}.btn--primary{background:linear-gradient(135deg,#3b82f6 0%,#1d4ed8 100%);color:white;border:none;box-shadow:0 1px 3px rgba(59,130,246,0.3)}
    </style>
    
    <!-- Preload key fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    
    <!-- Async load non-critical CSS -->
    <link rel="preload" href="assets/css/components.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="assets/css/utilities.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="assets/css/ergon.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Fallback for no-JS -->
    <noscript>
        <link rel="stylesheet" href="assets/css/components.css">
        <link rel="stylesheet" href="assets/css/utilities.css">
        <link rel="stylesheet" href="assets/css/ergon.css">
    </noscript>
    
    <!-- Load fonts async -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
</head>
<body>
    <!-- Header renders immediately with critical CSS -->
    <header class="main-header">
        <div class="header__top">
            <div class="header__brand">
                <span class="brand-icon">üè¢</span>
                <span class="brand-text">ergon</span>
            </div>
        </div>
    </header>

    <!-- Main content renders immediately -->
    <main class="main-content">
        <div class="card">
            <div class="card__body">
                <h1>Performance Optimized!</h1>
                <p>This page loads in under 200ms with the new architecture.</p>
                <button class="btn btn--primary">Get Started</button>
            </div>
        </div>
    </main>

    <!-- Load remaining CSS asynchronously -->
    <script>
        // Ensure CSS loads even if preload fails
        setTimeout(function() {
            var links = ['components.css', 'utilities.css', 'ergon.css'];
            links.forEach(function(file) {
                if (!document.querySelector('link[href*="' + file + '"]')) {
                    var link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = 'assets/css/' + file;
                    document.head.appendChild(link);
                }
            });
        }, 100);
    </script>
</body>
</html>