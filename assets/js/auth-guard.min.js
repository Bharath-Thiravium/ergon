!function(){"use strict";function checkAuth(){fetch("/ergon/api/check-auth.php",{method:"GET",credentials:"include"}).then(function(response){return response.json()}).then(function(data){data.authenticated||window.location.replace("/ergon/login")}).catch(function(){window.location.replace("/ergon/login")})}setInterval(checkAuth,3e5),window.addEventListener("beforeunload",function(){navigator.sendBeacon&&navigator.sendBeacon("/ergon/api/activity-log",JSON.stringify({action:"page_unload",timestamp:Date.now()}))}),document.addEventListener("visibilitychange",function(){document.hidden||checkAuth()})}();