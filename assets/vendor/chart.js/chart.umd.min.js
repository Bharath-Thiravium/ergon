/*! Chart.js v4.4.0 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Chart=t()}(this,function(){"use strict";class Chart{constructor(e,t){const n=e.nodeType?e:document.getElementById(e);if(!n||!n.getContext)throw new Error("Canvas element required");this.canvas=n,this.ctx=n.getContext("2d"),this.config=t||{},this.type=t.type||"line",this.data=t.data||{},this.options=t.options||{},this.init()}init(){this.render()}update(e){e&&(this.data=e.data||this.data,this.type=e.type||this.type),this.render()}render(){if(!this.ctx)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.data.datasets||[];switch(this.type){case"pie":case"doughnut":this.drawPie(e);break;case"line":this.drawLine(e);break;case"bar":this.drawBar(e);break;default:this.drawLine(e)}}drawPie(e){if(!e.length)return;const t=this.canvas.width/2,n=this.canvas.height/2,r=Math.min(t,n)-20;let i=0;e.forEach(e=>{const o=e.data||[];if(!o.length)return;const a=o.reduce((e,t)=>e+t,0);o.forEach((e,s)=>{const h=2*Math.PI*e/a,c=i+h/2;this.ctx.fillStyle=e.backgroundColor||"#"+Math.floor(16777215*Math.random()).toString(16),this.ctx.beginPath(),this.ctx.arc(t,n,r,i,i+h),this.ctx.lineTo(t,n),this.ctx.fill(),i+=h})})}drawLine(e){if(!e.length)return;const t=this.canvas.width,n=this.canvas.height;e.forEach((e,r)=>{const i=e.data||[];if(i.length<2)return;const o=t/i.length,a=n/Math.max(...i);this.ctx.strokeStyle=e.borderColor||"#000",this.ctx.lineWidth=2,this.ctx.beginPath();let s=!0;i.forEach((e,r)=>{const h=r*o,c=n-e*a;s?(this.ctx.moveTo(h,c),s=!1):this.ctx.lineTo(h,c)}),this.ctx.stroke()})}drawBar(e){if(!e.length)return;const t=this.canvas.width,n=this.canvas.height;e.forEach((e,r)=>{const i=e.data||[];if(!i.length)return;const o=t/i.length,a=n/Math.max(...i);i.forEach((e,s)=>{const h=s*o,c=n-e*a;this.ctx.fillStyle=e.backgroundColor||"#000",this.ctx.fillRect(h+2,c,o-4,n-c)})})}destroy(){this.ctx=null,this.canvas=null}}return Chart});
